<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE PINCER MOVEMENT: An Interactive Dossier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@300;400;700&family=Teko:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Design and Implementation Notes -->
    <!-- Palette: Dark Mode with Red Accents, inspired by exposed1.substack.com -->
    <!-- Structure: SPA structured as a thematic, scrollable dossier with sticky navigation. -->
    <!-- Visualizations: HTML/CSS flowcharts, Chart.js canvases, and an interactive timeline. Clickable nodes and timeline events trigger a unified modal system. -->
    <!-- CONFIRMATION: NO SVG/Mermaid graphics are used. -->

    <style>
        :root { 
            --accent-red: #E53E3E; 
            --background-primary: #121212;
            --background-secondary: #1E1E1E;
            --border-color: #333;
            --text-primary: #E0E0E0;
            --text-secondary: #A0A0A0;
            --font-display: 'Teko', sans-serif;
            --font-body: 'Roboto Slab', serif;
        }
        body { 
            font-family: var(--font-body); 
            background-color: var(--background-primary); 
            color: var(--text-primary); 
        }
        h1, h2, h3, .nav-item { 
            font-family: var(--font-display); 
            font-weight: 600; 
        }
        .accent-red { color: var(--accent-red); }
        .card { 
            background-color: var(--background-secondary); 
            border: 1px solid var(--border-color); 
            transition: all 0.3s ease-in-out; 
        }
        .card:hover { 
            border-color: var(--accent-red); 
            box-shadow: 0 0 15px rgba(229, 62, 62, 0.2); 
        }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 500px; 
            margin: auto; 
            height: 300px; 
            max-height: 400px; 
        }
        @media (min-width: 768px) { .chart-container { height: 350px; } }
        .node { 
            border: 1px solid #4A5568; 
            padding: 1rem; 
            text-align: center; 
            border-radius: 0.5rem; 
            background-color: #2D3748; 
            transition: all 0.3s ease; 
            cursor: pointer; 
            position: relative; 
            z-index: 10; 
        }
        .node:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 4px 8px rgba(0,0,0,0.5); 
            border-color: var(--accent-red); 
        }
        .line { position: absolute; background-color: #4A5568; z-index: 1; }
        .sticky-nav { 
            position: sticky; 
            top: 0; 
            z-index: 50; 
            background-color: rgba(18, 18, 18, 0.8); 
            backdrop-filter: blur(10px); 
        }
        .modal-overlay { 
            position: fixed; 
            top: 0; left: 0; right: 0; bottom: 0; 
            background-color: rgba(0, 0, 0, 0.85); 
            z-index: 100; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            backdrop-filter: blur(5px);
        }
        .modal-content { 
            background-color: var(--background-secondary); 
            border: 1px solid var(--accent-red); 
            max-width: 550px; 
            width: 90%; 
            max-height: 90vh; 
            overflow-y: auto; 
        }
        
        /* --- START: Interactive Timeline Styles --- */
        .timeline-container {
            position: relative;
            padding: 2rem 0;
            margin: 0 auto;
            max-width: 800px;
        }
        .timeline-container::after {
            content: '';
            position: absolute;
            width: 4px;
            background-color: var(--border-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -2px;
        }
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
        }
        .timeline-item.left { left: 0; }
        .timeline-item.right { left: 50%; }
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            right: -13px;
            background-color: var(--background-primary);
            border: 4px solid var(--accent-red);
            top: 25px;
            border-radius: 50%;
            z-index: 1;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .timeline-item.right::after { left: -12px; }
        .timeline-item:hover::after {
            transform: scale(1.2);
            box-shadow: 0 0 10px var(--accent-red);
        }
        .timeline-content {
            padding: 20px 30px;
            background-color: #2D3748;
            position: relative;
            border-radius: 6px;
            border: 1px solid #4A5568;
        }
        .timeline-item.left .timeline-content { text-align: right; }
        @media screen and (max-width: 768px) {
            .timeline-container::after { left: 31px; }
            .timeline-item { width: 100%; padding-left: 70px; padding-right: 25px; }
            .timeline-item.right { left: 0%; }
            .timeline-item.left::after, .timeline-item.right::after { left: 18px; }
             .timeline-item.left .timeline-content { text-align: left; }
        }
        /* --- END: Interactive Timeline Styles --- */

    </style>
</head>
<body class="antialiased">

    <nav id="navbar" class="sticky-nav shadow-lg border-b border-gray-800">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <h1 class="text-3xl uppercase text-white">The Pincer Movement</h1>
                <!-- Navigation updated to include Timeline -->
                <div class="hidden md:flex space-x-6 text-lg uppercase">
                    <a href="#alliance" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Alliance</a>
                    <a href="#timeline" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Timeline</a>
                    <a href="#ideology" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Ideology</a>
                    <a href="#blueprint" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Blueprint</a>
                    <a href="#money" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Money</a>
                    <a href="#tactics" class="nav-item text-gray-300 hover:text-accent-red transition duration-300">The Tactics</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <header class="text-center my-12 md:my-20">
            <h1 class="text-6xl md:text-8xl font-bold uppercase tracking-wider text-white">The Pincer Movement</h1>
            <h2 class="text-2xl md:text-4xl mt-2 accent-red uppercase tracking-wide">An Architecture of Autocracy</h2>
            <p class="max-w-3xl mx-auto mt-6 text-lg text-gray-400">
                This investigation exposes a deeply integrated, two-pronged assault on the foundations of American pluralism and democratic governance. It is not a story of two separate movements, but a forensic analysis of a coordinated campaign to reshape the United States from both within and without its institutions of power.
            </p>
        </header>

        <section id="alliance" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Alliance Network</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">People, Power, and Policy</h3>
            <div class="card p-8">
                 <p class="text-lg mb-8 leading-relaxed text-center">
                    The Pincer Movement is defined by the symbiotic relationship between its ideological and bureaucratic arms, connected by key personnel who operate across multiple organizations. This is not a loose coalition but a tightly integrated network. <span class="font-bold accent-red">Click on any node below to explore the connections.</span>
                </p>
                <div class="relative h-[600px] md:h-[400px]">
                    <!-- Lines -->
                    <div class="line" style="left: 25%; top: 25%; width: 50%; height: 2px;"></div>
                    <div class="line" style="left: 25%; top: 25%; width: 2px; height: 50%;"></div>
                    <div class="line" style="left: 75%; top: 25%; width: 2px; height: 50%;"></div>

                    <!-- Nodes -->
                    <div id="node-leo" class="node absolute w-48" style="left: calc(50% - 6rem); top: 0;">
                        <h4 class="text-xl">Leonard Leo</h4><p class="text-sm text-gray-400">The Architect</p>
                    </div>
                    <div id="node-vought" class="node absolute w-48" style="left: 0; top: calc(50% - 3rem);">
                        <h4 class="text-xl">Russell Vought</h4><p class="text-sm text-gray-400">The Bureaucrat</p>
                    </div>
                    <div id="node-vanderplaats" class="node absolute w-48" style="right: 0; top: calc(50% - 3rem);">
                        <h4 class="text-xl">Bob Vander Plaats</h4><p class="text-sm text-gray-400">The Mobilizer</p>
                    </div>
                    <div id="node-heritage" class="node absolute w-48" style="left: calc(25% - 6rem); bottom: 0;">
                        <h4 class="text-xl">Project 2025</h4><p class="text-sm text-gray-400">(The Heritage Foundation)</p>
                    </div>
                    <div id="node-tfl" class="node absolute w-48" style="right: calc(25% - 6rem); bottom: 0;">
                         <h4 class="text-xl">The Family Leader</h4><p class="text-sm text-gray-400">(Christian Nationalism)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- --- START: Interactive Timeline Section --- -->
        <section id="timeline" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Timeline of Convergence</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">How The Movement Was Built</h3>
             <div class="card p-8">
                <p class="text-lg mb-8 leading-relaxed text-center">
                    This was not a spontaneous development. The Pincer Movement was assembled piece by piece over several years, with strategic funding preceding organizational and tactical rollouts. <span class="font-bold accent-red">Click any point on the timeline to see the details of each event.</span>
                </p>
                <div id="timeline-container" class="timeline-container">
                    <!-- Timeline items will be dynamically injected here by JavaScript -->
                </div>
            </div>
        </section>
        <!-- --- END: Interactive Timeline Section --- -->


        <section id="ideology" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Ideology</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">The Seven Mountains Mandate</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-8">
                    <h4 class="text-3xl mb-4">A Doctrine of Dominion</h4>
                    <p class="mb-6 leading-relaxed">The ideological fuel for the movement is the Seven Mountains Mandate (7MM), a dominionist doctrine positing that Christians are divinely ordained to achieve control over the seven key spheres of societal influence.</p>
                    <div class="text-lg italic border-l-4 border-accent-red pl-4 text-gray-300">
                        "This isn't a political rally... It's where the people of God, the citizens of heaven, bring heaven to earth."
                        <span class="block text-right mt-2 not-italic text-gray-500">&mdash; Lance Wallnau, NPR Interview</span>
                    </div>
                </div>
                <div class="card p-8 md:col-span-2">
                     <h4 class="text-3xl mb-4 text-center">Adherence and Radicalization</h4>
                     <p class="text-center text-gray-400 mb-6">PRRI polling data reveals significant alignment with Christian Nationalist views, including a disturbing acceptance of political violence to "save the country."</p>
                    <div class="chart-container">
                        <canvas id="ideologyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="blueprint" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Blueprint</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">Project 2025's Mandate</h3>
             <p class="max-w-4xl mx-auto text-center text-lg text-gray-400 mb-12">
                Project 2025 is a 920-page operational blueprint for a radical restructuring of the federal government. It's a detailed plan to consolidate executive power by purging the civil service and politicizing the Department of Justice.
            </p>
             <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="card p-8">
                    <h4 class="text-3xl mb-4">Mechanism 1: Schedule F</h4>
                    <p class="leading-relaxed">A plan to reclassify up to **50,000** federal employees, stripping their job protections. This allows them to be fired and replaced with individuals vetted for ideological loyalty, creating a subservient workforce.</p>
                </div>
                 <div class="card p-8">
                    <h4 class="text-3xl mb-4">Mechanism 2: DOJ Capture</h4>
                    <p class="leading-relaxed">A "top-to-bottom overhaul" of the Department of Justice to ensure litigation and investigations are "consistent with the President’s agenda," effectively turning the DOJ into a political weapon.</p>
                </div>
            </div>
        </section>

        <section id="money" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Money</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">The Dark Money Engine</h3>
            <div class="card p-8">
                <p class="text-lg mb-8 leading-relaxed text-center">
                    The Pincer Movement is fueled by a torrent of "dark money" flowing through a sophisticated network. At its apex sits a massive $1.6 billion trust, which feeds Donor-Advised Funds (DAFs) that obscure donors and deploy capital. <span class="font-bold accent-red">Click a node to see details.</span>
                </p>
                 <div class="space-y-4">
                     <div class="text-center">
                        <div id="node-seid" class="node inline-block"><h4 class="text-xl">Barre Seid</h4><p>$1.6B Donation</p></div>
                    </div>
                    <div class="text-center text-4xl accent-red transform rotate-90">⇙</div>
                    <div class="text-center">
                        <div id="node-mft" class="node inline-block bg-gray-900 border-accent-red"><h4 class="text-xl">Marble Freedom Trust</h4><p>(Chaired by Leonard Leo)</p></div>
                    </div>
                     <div class="w-full flex justify-center my-4"><div class="w-px bg-gray-700 h-16"></div></div>
                    <div class="text-center"><div class="flowchart-arrow text-3xl">&darr;</div></div>
                    <div class="flex flex-col md:flex-row justify-around">
                        <div id="node-donors" class="node w-full md:w-2/5 mb-4 md:mb-0">
                            <h4 class="text-xl">DonorsTrust</h4><p>"Dark Money ATM"</p>
                        </div>
                         <div id="node-85fund" class="node w-full md:w-2/5">
                             <h4 class="text-xl">The 85 Fund</h4><p>HEP & Legal Groups</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tactics" class="py-16">
            <h2 class="text-5xl text-center mb-4">The Tactics</h2>
            <h3 class="text-2xl text-center accent-red mb-12 uppercase">Shaping the Battlefield</h3>
              <div class="card p-8">
                 <div id="tabs-container" class="mb-4 flex flex-wrap justify-center border-b border-gray-700">
                    <button data-tab="steeplechase" class="tab-button text-2xl px-6 py-3 border-b-2 border-transparent text-gray-400 hover:text-white">Steeplechase</button>
                    <button data-tab="watchtower" class="tab-button text-2xl px-6 py-3 border-b-2 border-transparent text-gray-400 hover:text-white">Watchtower</button>
                    <button data-tab="checkmate" class="tab-button text-2xl px-6 py-3 border-b-2 border-transparent text-gray-400 hover:text-white">Checkmate</button>
                </div>
                 <div id="tab-content" class="mt-6 text-lg leading-relaxed">
                    <!-- Tab content will be injected by JS -->
                </div>
            </div>
        </section>

    </main>
    
    <div id="modal" class="modal-overlay hidden">
        <div class="modal-content rounded-lg shadow-xl p-6 relative">
            <button id="closeModal" class="absolute top-2 right-4 text-3xl text-gray-500 hover:text-white">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>


    <footer class="border-t border-gray-800 py-8">
        <div class="container mx-auto px-4 text-center text-gray-500">
            <p>&copy; 2025 Reclaiming Democracy's Promise. All Rights Reserved.</p>
            <p class="text-sm mt-2">This interactive dossier is based on the keystone report "THE PINCER MOVEMENT: An Architecture of Autocracy."</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // --- START: Data Definitions ---

            // Data for clickable network nodes and timeline events.
            // Using a single modalData object for all pop-ups to centralize content.
            const modalData = {
                // Network Nodes
                'node-leo': { title: 'Leonard Leo: The Architect', content: '<p>A key conservative legal strategist. Chairs the Marble Freedom Trust and is a central figure in The 85 Fund and the Federalist Society. Orchestrates funding and judicial strategy for the conservative movement.</p>' },
                'node-vought': { title: 'Russell Vought: The Bureaucrat', content: '<p>Former OMB Director and a lead author of Project 2025. A self-described "Christian Nation-ist" who advocates for dismantling the administrative state and using government power to enforce ideological goals.</p>' },
                'node-vanderplaats': { title: 'Bob Vander Plaats: The Mobilizer', content: '<p>President & CEO of The Family Leader, an influential Christian Nationalist group in Iowa. Expert at grassroots mobilization and translating theological goals into state-level policy and political pressure.</p>' },
                'node-heritage': { title: 'Project 2025 (The Heritage Foundation)', content: '<p>A 920-page blueprint for a radical overhaul of the federal government. Its "Mandate for Leadership" details plans for purging the civil service (Schedule F) and politicizing the Department of Justice.</p>' },
                'node-tfl': { title: 'The Family Leader', content: '<p>A Christian Nationalist organization that seeks to embed "biblical values" into government. Instrumental in passing legislation like SF 418 in Iowa and mobilizing a conservative religious voting bloc.</p>' },
                'node-seid': { title: 'Barre Seid: The Megadonor', content: '<p>Donated his $1.6 billion electronics company, Tripp Lite, to the Marble Freedom Trust in 2021. This transaction is likely the largest single political donation in U.S. history, creating a massive financial engine for the conservative movement.</p>'},
                'node-mft': { title: 'Marble Freedom Trust', content: '<p>Chaired by Leonard Leo, this trust received the $1.6B contribution from Barre Seid. It acts as a central financial hub, granting tens of millions to other conservative DAFs and organizations to "crush liberal dominance."</p>'},
                'node-donors': { title: 'DonorsTrust', content: '<p>A major Donor-Advised Fund (DAF) often called the "dark money ATM of the political right." It receives funds from entities like MFT and channels them to a vast network of conservative groups, including The Heritage Foundation and the Alliance Defending Freedom, often obscuring the original donors.</p>'},
                'node-85fund': { title: 'The 85 Fund', content: '<p>Another DAF closely linked to Leonard Leo. It operates the Honest Elections Project (HEP), which is on Project 2025\'s advisory board. The 85 Fund engages in circular funding, both receiving money from and giving money to DonorsTrust, complicating financial tracking.</p>'},
                
                // Timeline Events
                'timeline-1': { title: 'Q2 2021: The Seid Donation', content: '<p>Industrialist Barre Seid donates his entire $1.6 billion electronics company to the newly formed Marble Freedom Trust. This single transaction creates an unprecedented "dark money" war chest for the conservative movement, with Leonard Leo at the helm.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> Barre Seid, Leonard Leo</p>' },
                'timeline-2': { title: 'Q1 2022: Project 2025 Launched', content: '<p>The Heritage Foundation formally launches the "Project 2025" coalition. Work begins on the "Mandate for Leadership," a comprehensive blueprint to restructure the federal government and staff it with ideologically vetted loyalists.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> The Heritage Foundation</p>' },
                'timeline-3': { title: 'Q4 2022: MFT Initial Dispersal', content: '<p>The Marble Freedom Trust makes its first major grants, funneling tens of millions of dollars into key Donor-Advised Funds like DonorsTrust and The 85 Fund. This initiates the flow of capital to dozens of conservative legal and advocacy groups.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> MFT, DonorsTrust, 85 Fund</p>' },
                'timeline-4': { title: 'Q2 2023: HEP Voter Challenges Begin', content: '<p>The Honest Elections Project (HEP), an arm of The 85 Fund, begins funding and promoting mass voter registration challenges in key states. This lays the legal and operational groundwork for future election interference tactics.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> Honest Elections Project</p>' },
                'timeline-5': { title: 'Q1 2024: "Mandate for Leadership" Published', content: '<p>Project 2025 releases its 920-page playbook. It details the plan to implement Schedule F to fire up to 50,000 civil servants, dismantle administrative agencies, and seize control of the Department of Justice.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> Project 2025, Russell Vought</p>' },
                'timeline-6': { title: 'Q1 2025: The "Pincer" Converges', content: '<p>The parallel tracks—bureaucratic deconstruction (Project 2025) and electoral disruption (HEP, EagleAI), fueled by the same dark money network (MFT)—are now fully mature and aimed at the same goal: reshaping American democracy.</p><p class="mt-2 text-sm text-gray-400"><b>Key Actors:</b> All</p>' }
            };

            const tabContentData = {
                'steeplechase': { title: 'Mobilizing the Shadow Campaign', content: 'Christian Nationalist networks leverage religious institutions for get-out-the-vote (GOTV) operations. Groups like Faith Wins conduct voter registration drives in churches, while figures like Lance Wallnau host revival-style events that are, in essence, highly targeted voter mobilization efforts. This "shadow campaign" utilizes the tax-exempt status of religious institutions to bypass traditional campaign finance scrutiny.'},
                'watchtower': { title: 'Weaponizing Culture for Turnout', content: 'The alliance masterfully weaponizes divisive cultural issues to energize its base. Legislation targeting transgender rights, like Iowa\'s SF 418, serves not only as a policy goal but as a potent messaging tool amplified through faith-based and right-wing media. This frames political contests as existential battles for the nation\'s soul, driving turnout.'},
                'checkmate': { title: 'Purging the Opposition', content: '<p class="mb-6">This involves strategies to fund and deploy tools for mass voter challenges. Software like EagleAI is used to flag registrations, which are then passed to activists for challenges, aiming to disenfranchise voters. Court findings have described the data used as "utterly lacking reliability," yet the tactic persists, funded by the same dark money network.</p><div class="chart-container"><canvas id="tacticsChart"></canvas></div>'}
            };

            const timelineEvents = [
                { id: 'timeline-1', date: 'Q2 2021', title: 'The Seid Donation', align: 'left' },
                { id: 'timeline-2', date: 'Q1 2022', title: 'Project 2025 Launched', align: 'right' },
                { id: 'timeline-3', date: 'Q4 2022', title: 'MFT Dispersal', align: 'left' },
                { id: 'timeline-4', date: 'Q2 2023', title: 'Voter Challenges Begin', align: 'right' },
                { id: 'timeline-5', date: 'Q1 2024', title: 'Mandate Published', align: 'left' },
                { id: 'timeline-6', date: 'Q1 2025', title: 'The Pincer Converges', align: 'right' },
            ];
            
            // --- END: Data Definitions ---


            // --- START: Dynamic Content Injection ---
            
            // Function to build and inject the timeline
            function buildTimeline() {
                const container = document.getElementById('timeline-container');
                timelineEvents.forEach(event => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = `timeline-item ${event.align}`;
                    itemDiv.innerHTML = `
                        <div class="timeline-content">
                            <h4 class="text-2xl font-bold">${event.date}</h4>
                            <p class="text-lg text-gray-300">${event.title}</p>
                        </div>
                    `;
                    // Attach event listener to the dot for the modal
                    const dot = document.createElement('div');
                    dot.className = 'timeline-dot'; // For styling if needed
                    itemDiv.id = event.id; // Set ID on the item for modal lookup
                    itemDiv.addEventListener('click', () => showModal(event.id));
                    container.appendChild(itemDiv);
                });
            }


            // --- END: Dynamic Content Injection ---

            // --- START: Modal Logic ---
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');
            const closeModalBtn = document.getElementById('closeModal');

            function showModal(id) {
                const data = modalData[id];
                if (data) {
                    modalBody.innerHTML = `<h3 class="text-3xl mb-4 accent-red">${data.title}</h3><div class="text-gray-300 leading-relaxed">${data.content}</div>`;
                    modal.classList.remove('hidden');
                }
            }

            function hideModal() {
                modal.classList.add('hidden');
            }

            // Event listeners for showing the modal from network nodes
            document.querySelectorAll('.node').forEach(node => {
                node.addEventListener('click', () => showModal(node.id));
            });

            // Event listeners for closing the modal
            closeModalBtn.addEventListener('click', hideModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    hideModal();
                }
            });

            // --- END: Modal Logic ---


            // --- START: Chart and Tab Logic ---

            const chartJsDefaults = {
                color: '#E0E0E0',
                borderColor: '#4A5568',
                font: { family: "'Roboto Slab', serif" }
            };
            Chart.defaults.color = chartJsDefaults.color;
            Chart.defaults.borderColor = chartJsDefaults.borderColor;
            Chart.defaults.font.family = chartJsDefaults.font.family;
            
            const ideologyCtx = document.getElementById('ideologyChart').getContext('2d');
            new Chart(ideologyCtx, {
                type: 'bar',
                data: {
                    labels: ['Christian Nationalist Adherents', 'Christian Nationalist Sympathizers'],
                    datasets: [{
                        label: 'Agree "True American patriots may have to resort to violence to save our country"',
                        data: [38, 33],
                        backgroundColor: '#E53E3E',
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true, max: 50, ticks: { callback: value => value + '%' } } },
                    plugins: {
                        legend: { display: false },
                        title: { display: true, text: 'Support for Political Violence (PRRI Data 2024)', font: { size: 18 } },
                    }
                }
            });

            const tabsContainer = document.getElementById('tabs-container');
            const tabContentContainer = document.getElementById('tab-content');
            
            const setActiveTab = (tabName) => {
                tabsContainer.querySelectorAll('.tab-button').forEach(button => {
                    button.classList.toggle('text-white', button.dataset.tab === tabName);
                    button.classList.toggle('border-accent-red', button.dataset.tab === tabName);
                    button.classList.toggle('text-gray-400', button.dataset.tab !== tabName);
                    button.classList.toggle('border-transparent', button.dataset.tab !== tabName);
                });
                
                const content = tabContentData[tabName];
                tabContentContainer.innerHTML = `<div id="${tabName}" class="tab-pane"><h4 class="text-3xl mb-4">${content.title}</h4>${content.content}</div>`;

                if (tabName === 'checkmate') {
                    const tacticsCtx = document.getElementById('tacticsChart').getContext('2d');
                    new Chart(tacticsCtx, {
                        type: 'bar',
                        data: {
                            labels: ['Voter Registrations Challenged (GA)', 'Registrations Removed'],
                            datasets: [{
                                label: 'Number of Voters',
                                data: [63000, 630],
                                backgroundColor: ['#4A5568', '#E53E3E'],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            indexAxis: 'y',
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                                legend: { display: false },
                                title: { display: true, text: 'Effectiveness of Mass Voter Challenges', font: { size: 18 } },
                            }
                        }
                    });
                }
            };

            tabsContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('tab-button')) {
                    setActiveTab(e.target.dataset.tab);
                }
            });
            
            // --- END: Chart and Tab Logic ---

            // --- START: Smooth Scrolling for Nav ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });
            // --- END: Smooth Scrolling ---


            // --- Initialize Dynamic Content ---
            buildTimeline();
            setActiveTab('steeplechase');
        });
    </script>
</body>
</html>
